<?php	include_once($_SERVER['DOCUMENT_ROOT'] . '/api/core/database.php');	include_once($_SERVER['DOCUMENT_ROOT'] . '/api/core/cas.php');		class Admin {				//Adds an admin		//Usage: addAdmin( $user, $first, $last, $email )		public static function addAdmin( $username, $first, $last, $email ) {						$db = self::connect();						$query = "	SELECT *						FROM admins						WHERE username='".$username."'				";							$db->query($query);						if ( $db->fetch_row_assoc() ) {				echo 'Already an Admin';				return false;			}						$query = "	INSERT INTO admins ( username, first_name, last_name, email )						VALUES ('".$username."', '".$first."', '".$last."', '".$email."');				";							if( $db->query($query) ){				echo 'Admin Created!';				return true;			}			else				return false;					}				//Removes an admin		//Usage: removeAdmin( $admin )		public static function removeAdmin( $username ) {					$db = self::connect();						$query = "	DELETE						FROM admins						WHERE username='".$username."'				";							if( $db->query($query) )				return true;			else				return false;		}				//Echos room information		//Usage: roomInfo( $room_id )		public static function roomInfo( $room_id ) {					$db = self::connect();						$query = "	SELECT b.name, r.number						FROM rooms r JOIN buildings b ON r.building_id = b.building_id						WHERE r.room_id='".$room_id."'					";					$db->query($query);			$row = $db->fetch_row_assoc();			echo ''.$row['name'].' '.$row['number'];					}				public static function registerUser( $rcsid, $room_id ) {					$db = self::connect();									//Make sure the room has enough slots remaining			$query = "	SELECT *						FROM rooms						WHERE room_id='".$room_id."'					";			$db->query($query);			$row = $db->fetch_row_assoc();			if( $row['currentpeople'] >= $row['totalpeople'] ){				return 'This room is already full.';			}			else				$currentpeople = $row['currentpeople'];						//All Increment room current users			$query = "	UPDATE rooms						SET currentpeople = ".$currentpeople." + 1						WHERE room_id='".$room_id."'					";			$db->query($query);						//Add user to the user table			return self::addUser( $rcsid, $room_id );							}				public static function addUser( $rcsid, $room_id ){					$db = self::connect();						//Check if user already exsits			$query = "	SELECT *						FROM users						WHERE rcsid='".$rcsid."'					";					$db->query($query);			$row = $db->fetch_row_assoc();			if( $row != null ){				return 'User is already registered.';			}						//Add user			$query = "	INSERT INTO users ( rcsid, room_id )						VALUES ('".$rcsid."', ".$room_id." )					";					$db->query($query);						return 0;		}				//------------------------------------------		//------------------------------------------		//------------------------------------------				private function connect(){			$db = new database();			require($_SERVER['DOCUMENT_ROOT'] . '.../api/core/config.php');			if( $db->connect($ROLES["remote"]) )				echo '';			else				echo 'Error Cannot Connect to Database';							return $db;			}			}			?>